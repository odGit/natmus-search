{"version":3,"sources":["ducks/reducer.ts","enums/url-props.ts","ducks/actionTypes.ts","ducks/initialState.ts","enums/icons-svg.ts","utils/getInitialUrlParams.ts","Context.tsx","components/atoms/Button.tsx","components/atoms/Icon.tsx","components/atoms/IconButton.tsx","ducks/actions.ts","components/Search.tsx","utils/getImage.ts","components/card/Illustration.tsx","components/atoms/Label.tsx","utils/convertTextToColor.ts","components/card/Collection.tsx","components/atoms/Listing.tsx","enums/label-text.ts","components/card/Materials.tsx","components/atoms/IconLabel.tsx","components/card/ItemIDs.tsx","components/card/Measurements.tsx","components/card/Description.tsx","components/Card.tsx","components/ResultCollection.tsx","components/atoms/LoadingScreen.tsx","components/NoResults.tsx","components/controlsBar/PageSection.tsx","components/ControlsBar.tsx","utils/searchItems.ts","utils/useSearch.ts","App.tsx","utils/useReflectInUrl.ts","index.tsx"],"names":["reducer","URL_PROPS","state","action","console","log","type","showSpinner","isLoading","showNoRes","data","payload","totalItems","perPage","queryTerm","query","imgFiles","Object","assign","imgId","img","imgAvailable","concat","offsetSize","nextPage","limit","ICONS","initialState","awaitingData","errorMessage","urlParams","URLSearchParams","window","location","search","get","QUERY","getInitialQuery","ctx","createContext","dispatch","StateProvider","props","useReducer","Provider","value","useCtx","context","useContext","undefined","Error","Button","children","classes","isDisabled","onClickFn","className","onClick","disabled","iconStyle","display","Icon","icon","color","size","dangerouslySetInnerHTML","__html","style","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","preserveAspectRatio","IconButton","icon_size","startSearchReq","loadingData","gotSearchRes","newData","total","pages","noSearchRes","failSearchReq","error","startImageReq","loadingImg","itemId","gotImage","failImageReq","changePage","Search","inputRef","useRef","searchOnClick","current","searchKey","length","useEffect","addEventListener","evt","key","removeEventListener","placeholder","ref","SEARCH","id","item","a","url","fetch","request","ok","err","status","statusText","blob","imgBlob","Illustration","img_alt","img_src","hasImages","includes","src","URL","createObjectURL","alt","IMAGE","fetchImageApi","Label","label","styles","letterToIndex","letter","specChars","keys","charCodeAt","toLowerCase","indexToRGB","idx1","convertTextToColor","str","stringToLetters","split","gVal","bVal","rVal","Math","round","Collection","collection","toLocaleUpperCase","backgroundColor","Listing","LABELSTEXT","name","toUpperCase","Array","isArray","join","Materials","materials","hasMaterials","colorList","uniqList","typeList","procList","MATERIAL","COLOR","PROCESS","NO_DATA","arrayObj","list","filter","obj","map","val","index","indexOf","IconLabel","ItemIDs","id_label","ident_label","DATABASE","toString","FOLDER","Measurements","measurements","hasMeasurements","MEASURE","i","Description","descriptions","DESCRIPTION","Card","identification","title","images","ResultCollection","resultData","Loader","NoResults","term","BOOKMARK","BOX","SQUARE_CHECK","PageSection","pageLabel","min","BACK","FORWARD","ControlsBar","json","content","Number","headers","useSearch","offset","React","fetchSearchApi","App","history","pushState","pathname","OFFSET","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.62777bad.chunk.js","sourcesContent":["import { \n  GET_SEARCH_NO_ITEMS, GET_SEARCH_START_REQUEST, GET_SEARCH_SUCCESS,\n  GET_IMG_SUCCESS, CHANGE_PAGE, SET_QUERY } from './actionTypes';\nimport { AppActionTypes, AppState } from './types';\n \nfunction reducer (state: AppState, action: AppActionTypes): AppState {\n  console.log('REDUCER', action)\n  switch (action.type) {\n    case GET_SEARCH_START_REQUEST: {\n      return {\n        ...state,\n        showSpinner: action.isLoading,\n        showNoRes: false,\n        data: [],\n      }\n    }\n    case GET_SEARCH_SUCCESS: {\n      return {\n        ...state,\n        data: action.payload,\n        showSpinner: action.isLoading,\n        showNoRes: false,\n        totalItems: action.totalItems,\n        perPage: action.perPage,\n        queryTerm: action.query,\n      }\n    }\n    case GET_SEARCH_NO_ITEMS:{\n      return {\n        ...state,\n        showSpinner: action.isLoading,\n        showNoRes: true,\n        queryTerm: action.queryTerm,\n      }\n    }\n    case GET_IMG_SUCCESS:{\n      return{\n        ...state,\n        imgFiles: Object.assign({}, state.imgFiles, {[action.imgId] : action.img }),\n        imgAvailable: state.imgAvailable.concat(action.imgId),\n      }\n    }\n    case CHANGE_PAGE: {\n      return {\n        ...state,\n        offsetSize: state.offsetSize + (action.nextPage * state.limit)\n      }\n    }\n    case SET_QUERY: {\n      return {\n        ...state,\n        queryTerm: action.queryTerm,\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n\nexport default reducer;\n","export enum URL_PROPS {\n  'OFFSET' = 'offset',\n  'QUERY' = 'query',\n};\n","export const GET_SEARCH_START_REQUEST = 'GET_SEARCH_START_REQUEST';\nexport const GET_SEARCH_SUCCESS= 'GET_SEARCH_ITEMS';\nexport const GET_SEARCH_FAIL= 'GET_SEARCH_FAIL';\nexport const GET_SEARCH_NO_ITEMS= 'GOT_NO_SEARCH_RESULTS';\n\nexport const GET_IMG_START_REQUEST= 'GET_IMG_START_REQUEST';\nexport const GET_IMG_SUCCESS= 'GET_IMG_ITEMS';\nexport const GET_IMG_FAIL= 'GET_IMG_FAIL';\nexport const GET_IMG_NO_ITEMS= 'GOT_NO_IMG';\n\n\nexport const CHANGE_PAGE= 'CHANGE_PAGE';\nexport const CHANGE_LIMIT= 'CHANGE_LIMIT';\n\nexport const SET_QUERY = 'SET_QUERY';","import {AppState} from './types';\nimport {getInitialQuery} from '../utils/getInitialUrlParams';\n\n\nexport const initialState: AppState = {\n  data: [],\n  limit: 50,\n  offsetSize: 0,\n  awaitingData: false,\n  errorMessage: null,\n  perPage: 0,\n  totalItems: 0,\n  showSpinner: false,\n  showNoRes: false,\n  queryTerm: getInitialQuery(),\n  imgFiles: {},\n  imgAvailable: [],\n};\n","// Icons are from FEATHER Icon collection\n// for more info see https://github.com/feathericons/feather\n\nexport enum ICONS {\n  'IMAGE' = '<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" /> <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" /><polyline points=\"21 15 16 10 5 21\" />',\n  'FOLDER' = '<path d=\"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z\" />',\n  'DATABASE' = '<ellipse cx=\"12\" cy=\"5\" rx=\"9\" ry=\"3\" /><path d=\"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3\" /><path d=\"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5\" />',\n  'SEARCH' = '<circle cx=\"11\" cy=\"11\" r=\"8\"></circle><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>',\n  'SQUARE' = '<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>',\n  'SQUARE_MINUS' = '<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>',\n  'SQUARE_PLUS' = '<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>',\n  'SQUARE_CHECK' = '<polyline points=\"9 11 12 14 22 4\"></polyline><path d=\"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\"></path>',\n  'BOX' = '<path d=\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"></path><polyline points=\"3.27 6.96 12 12.01 20.73 6.96\"></polyline><line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\"></line>',\n  'BOOKMARK' = '<path d=\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"></path>',\n  'BACK'= '<polyline points=\"15 18 9 12 15 6\"></polyline>',\n  'FORWARD'= '<polyline points=\"9 18 15 12 9 6\">'\n};","import {URL_PROPS} from '../enums/url-props';\n\nexport function getInitialOffset() {\n  const urlParams = new URLSearchParams(window.location.search);\n    const initialOffset = (urlParams !== null && urlParams.get(URL_PROPS.OFFSET)) ? parseInt(urlParams.get(URL_PROPS.OFFSET)!, 10) : 0;\n  return initialOffset;\n};\n\n\nexport function getInitialQuery() {\n  const urlParams = new URLSearchParams(window.location.search);\n    const initialQuery = (urlParams !== null && urlParams.get(URL_PROPS.QUERY)) ? urlParams.get(URL_PROPS.QUERY) : null;\n  return initialQuery;\n};","import React, {createContext, useReducer, useContext} from 'react';\nimport reducer from './ducks/reducer';\nimport {initialState} from './ducks/initialState'\nimport {AppState, AppActionTypes} from './ducks/types'\n\ntype StoreApi = {\n  state: typeof initialState;\n  dispatch: React.Dispatch<AppActionTypes>;\n}\n\nconst ctx = createContext<StoreApi>({\n  state: initialState,\n  dispatch: () => {}\n});\n\nfunction StateProvider(props: React.PropsWithChildren<{}>) {\n  const [state, dispatch] = useReducer<React.Reducer<AppState, AppActionTypes>>(reducer, initialState);\n  return <ctx.Provider value={{state, dispatch}} {...props} />\n}\n\nfunction useCtx() {\n  const context = useContext(ctx);\n  if (context === undefined) throw new Error(`No provider for AppContext given`);\n  return context;\n}\n\nexport {StateProvider, ctx, useCtx};\n","import React from 'react';\n\ntype ButtonProps = {\n  classes : string;\n  isDisabled: boolean;\n  onClickFn: React.MouseEventHandler<HTMLElement>;\n  type?: \"button\" | \"submit\" | \"reset\" | undefined;\n  children: React.ReactNode;\n}\n\nfunction Button ({\n  children, classes,\n  isDisabled, onClickFn, \n  type=\"button\" }: ButtonProps): React.ReactElement {\n  return (\n    <button\n      className={classes}\n      onClick={onClickFn}\n      disabled={isDisabled}\n      type={type}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\ntype IconProps = {\n  icon: string;\n  size?: string | number;\n  color?: string;\n}\n\nconst iconStyle = {\n  display: 'inline-block',\n};\n\nfunction Icon({icon, color='none', size}: IconProps){\n  return (\n    <svg\n      dangerouslySetInnerHTML={{ __html: icon }}\n      style={iconStyle}\n      width={size}\n      height={size}\n      viewBox='0 0 24 24'\n      fill={color}\n      stroke='currentColor'\n      strokeWidth='2'\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      preserveAspectRatio='xMidYMid meet'\n    />\n  )\n}\n\nexport default Icon;\n","import React from 'react';\nimport Button from './Button';\nimport Icon from './Icon';\n\nimport '../../sass/components/atoms/IconButton.scss';\n\ntype IconButtonProps = {\n  icon: string,\n  icon_size: string;\n  classes : string;\n  isDisabled: boolean;\n  onClickFn: (React.MouseEventHandler<HTMLElement> );\n  type?: \"button\" | \"submit\" | \"reset\" | undefined;\n}\n\nfunction IconButton ({\n  icon, onClickFn,\n  icon_size, isDisabled,\n  classes, type \n}: IconButtonProps): React.ReactElement {\n  return (\n    <Button\n      onClickFn={onClickFn}\n      isDisabled={isDisabled}\n      type={type}\n      classes={`icon-button ${classes}`}\n    >\n      <Icon\n        icon={icon}\n        size={icon_size}\n      />\n\n    </Button>\n  );\n};\n\nexport default IconButton;\n","import {\n  GET_SEARCH_SUCCESS, GET_SEARCH_START_REQUEST, \n  GET_SEARCH_NO_ITEMS, GET_SEARCH_FAIL,\n  GET_IMG_SUCCESS, GET_IMG_START_REQUEST, \n  GET_IMG_FAIL,\n  CHANGE_PAGE,\n  SET_QUERY,\n} from './actionTypes';\nimport {Data, SearchActionTypes, ImageActionTypes, PageActionTypes, QueryAction} from './types';\n\n// GET DATA from SEARCH API\nexport const startSearchReq = (loadingData: boolean): SearchActionTypes => ({\n  type: GET_SEARCH_START_REQUEST,\n  isLoading: loadingData\n});\n\nexport const gotSearchRes = (\n  newData: Data[],\n  loadingData: boolean,\n  total:number,\n  pages:number,\n  query: string,\n): SearchActionTypes => ({\n  type: GET_SEARCH_SUCCESS,\n  payload: newData,\n  isLoading: loadingData,\n  totalItems: total,\n  perPage: pages,\n  query,\n});\n\nexport const noSearchRes = (loadingData: boolean, query: string): SearchActionTypes => ({\n  type: GET_SEARCH_NO_ITEMS,\n  isLoading: loadingData,\n  queryTerm: query,\n});\n\nexport const failSearchReq = (loadingData: boolean, error:Error): SearchActionTypes => ({\n  type: GET_SEARCH_FAIL,\n  isLoading: loadingData,\n  error,\n});\n\n// GET DATA from IMG API\nexport const startImageReq = (\n  loadingImg: boolean,\n  itemId: number,\n  imgId: string\n): ImageActionTypes => ({\n  type: GET_IMG_START_REQUEST,\n  isLoading: loadingImg,\n  itemId,\n  imgId,\n});\n\nexport const gotImage = (\n  loadingImg: false, \n  itemId: number,\n  imgId: string,\n  img: Blob,\n): ImageActionTypes => ({\n  type: GET_IMG_SUCCESS,\n  isLoading: loadingImg,\n  imgId: imgId,\n  itemId: itemId,\n  img: img,\n});\n\nexport const failImageReq = (\n  loadingImg: boolean,\n  itemId: number,\n  imgId: string,\n  error: Error,\n): ImageActionTypes =>({\n  type: GET_IMG_FAIL,\n  isLoading: loadingImg,\n  itemId,\n  imgId,\n  error,\n});\n\n\nexport const changePage = (payload: number): PageActionTypes => ({\n  type: CHANGE_PAGE,\n  nextPage: payload,\n})\n\nexport const setQuery= (payload: string): QueryAction =>({\n  type: SET_QUERY,\n  queryTerm: payload,  \n})","import React, {useRef, useEffect} from 'react'\nimport { useCtx } from '../Context';\nimport { ICONS } from '../enums/icons-svg';\nimport '../sass/components/Search.scss';\nimport IconButton from './atoms/IconButton';\nimport { setQuery } from '../ducks/actions';\n\n\nfunction Search(){\n  const inputRef = useRef<HTMLInputElement>(null);\n  const {state, dispatch} = useCtx();\n\n  useEffect(() => {\n    if(inputRef.current !== null && state.queryTerm !== null && state.queryTerm !== \"null\"){\n      inputRef.current.value = state.queryTerm\n    }\n  })\n\n  function searchOnClick (): void {\n    if (null !== inputRef.current) {\n      const searchKey = inputRef.current.value;\n      if (searchKey.length !== 0) {\n        dispatch(setQuery(searchKey));\n      }\n    }\n  };\n\n  useEffect(()=>{\n    window.addEventListener('keypress', function(evt){\n      if(evt.key === 'Enter'){\n        searchOnClick();\n      }\n    });\n     // Remove event listeners on cleanup\n    return ()=> {\n      window.removeEventListener('keypress',function(evt){\n        if(evt.key === 'Enter'){\n          searchOnClick();\n        }\n      });\n    }\n  },[]);\n\n  return (\n    <div className=\"search-form\">\n      <div className=\"search-field\">\n        <input\n          className=\"search-input\"\n          type=\"search\"\n          placeholder=\"Search NatMus collection ...\"\n          ref={inputRef}\n        />\n        <IconButton\n          onClickFn={searchOnClick}  \n          isDisabled={false} \n          icon={ICONS.SEARCH} \n          icon_size={'2em'} \n          classes='search-svg'\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Search;\n","import {Dispatch} from 'react';\nimport {AppActionTypes} from '../ducks/types';\nimport { startImageReq, failImageReq, gotImage } from '../ducks/actions';\n\nexport async function fetchImageApi (\n  id: string,\n  item: number,\n  dispatch: Dispatch<AppActionTypes>,\n): Promise<any> {\n  const url = `https://frontend.natmus.dk/api/Image?id=${id}`;\n  // const url = `https://frontend.natmus.dk/api/Image?id=DO-43370`;\n\n  console.log('REQUEST URL:', url);\n  dispatch(startImageReq(true, item, id));\n\n  try {\n    const request = await fetch(url);\n    console.log('REQUEST', request);\n    if (!request.ok){\n      const err = new Error (\n        `IMAGE API req ${request.status}: ${request.statusText}`\n      );\n      return dispatch(failImageReq(false, item, id, err));\n    }\n    const imgBlob = await request.blob();\n    return dispatch(gotImage(false, item, id, imgBlob));\n  } catch (error) {\n    return dispatch(failImageReq(false, item, id, error));\n  }\n};\n","import React, { ReactElement } from 'react';\nimport{ICONS} from '../../enums/icons-svg';\nimport IconButton from '../atoms/IconButton';\nimport {fetchImageApi} from '../../utils/getImage';\nimport { useCtx } from '../../Context';\n\ntype IllustrationProps = {\n  img_src: string[];\n  img_alt?: string;\n  classes: string;\n  item: number;\n}\n\nfunction Illustration({ item, img_alt, img_src, classes}: IllustrationProps): ReactElement{\n  const hasImages = img_src.length !== 0;\n  const {state, dispatch} = useCtx();\n\n  return (\n    <div className={classes}>\n      {state.imgAvailable.includes(img_src[0]) && hasImages && <img src={URL.createObjectURL(state.imgFiles[img_src[0]])} alt={img_alt} /> }\n      <IconButton\n        classes={'illustration icon-button'} \n        icon={ICONS.IMAGE} \n        isDisabled={!hasImages}\n        icon_size={'3em'}\n        onClickFn={() => fetchImageApi(img_src[0], item, dispatch)}\n      />\n    </div>\n  );\n}\n\nexport default Illustration;\n","import React, { ReactElement } from 'react';\n\ntype LabelProps = {\n  classes?: string | undefined;\n  label: string,\n  styles?: React.CSSProperties,\n}\n\nfunction Label ({classes, label, styles}: LabelProps): ReactElement {\n  return (\n    <div className={classes} style={styles}>\n      {label}\n    </div>\n  );\n}\n\nexport default Label;\n","function letterToIndex (letter :string) :number {\n  /**\n   * converts letters into int in a range from 0 - 28\n   */\n  const specChars: { [key: string]: number} = {'æ': 26, 'ø': 27, 'å': 28, 'Æ': 26, 'Ø': 27, 'Å': 28};\n  if (Object.keys(specChars).includes(letter)){\n    return specChars[letter]\n  }\n  // the ascii value,\n  // 65 for Uppercase letters and 97 for lowercase letters \n  return letter.charCodeAt(0) - (letter === letter.toLowerCase() ? 97 : 65);\n}\n\nfunction indexToRGB (idx1: number): number {\n  return (idx1 / 28) * 255;\n}\n\nfunction convertTextToColor(str :string): string {\n  const stringToLetters = str.split('');\n  let gVal=0; let bVal=0;\n  const rVal = indexToRGB(letterToIndex(stringToLetters[0]));\n  \n  if (stringToLetters.length >= 2 ){\n    gVal = indexToRGB(letterToIndex(stringToLetters[1]));\n  }\n  if (stringToLetters.length >= 3 ){\n    bVal = indexToRGB(letterToIndex(stringToLetters[2]));\n  }\n\n  return `rgb(${Math.round(rVal * 100) / 100}, ${Math.round(gVal * 100) / 100}, ${Math.round(bVal * 100) / 100})`\n}\n\nexport default convertTextToColor;","import React, { ReactElement } from 'react';\nimport Label from '../atoms/Label';\nimport convertTextToColor from '../../utils/convertTextToColor';\n\ntype CollectionProps = {\n  collection: string;\n  classes: string;\n};\n\nfunction Collection ({collection, classes}: CollectionProps): ReactElement{\nreturn (\n  <Label\n    label={collection.toLocaleUpperCase()} \n    classes={classes} \n    styles={{backgroundColor: convertTextToColor(collection)}}\n  />\n  );\n};\n\nexport default Collection;\n","import React, { ReactElement } from 'react';\nimport '../../sass/components/atoms/Listing.scss';\n\ntype ListingsProps = {\n  name: string,\n  value: string | number | string[];\n  classes: string;\n};\n\nfunction Listing({ name, value, classes }: ListingsProps): ReactElement {\n  return (\n    <div className={`listing-container ${classes}`} >\n      <span className='listing-name'>{name.toUpperCase()}</span>\n      <span className='listing-value'>{\n        Array.isArray(value) ? value.join(' ') : value\n      }</span>\n    </div>\n  )\n}\n\nexport default Listing;\n","export enum LABELSTEXT {\n  'NO_DATA' = 'No information',\n  'DESCRIPTION'= 'DESCRIPTION:',\n  'COLOR' = 'COLORS:',\n  'PROCESS' = 'PROCESSING:',\n  'MEASURE' = 'MEASUREMENTS:',\n  'MATERIAL' = 'MATERIALS:'\n};\n","import React, { ReactElement } from 'react';\nimport Listing from '../atoms/Listing';\nimport {LABELSTEXT} from '../../enums/label-text';\n\ntype material = {\n  type: string ; \n  color: string; \n  processing: string; \n}[];\n\ntype MaterialsProps = {\n  materials: {\n    type: string ; \n    color: string; \n    processing: string; \n  }[]\n}; \n\nfunction Materials({materials}: MaterialsProps): ReactElement {\n  const hasMaterials = materials.length !== 0;\n\n  const colorList = uniqList(materials, 'color');\n  const typeList = uniqList(materials, 'type');\n  const procList = uniqList(materials, 'processing');\n\n  return(\n    <div className={\"materials-wrapper\"}>\n      {hasMaterials ? (\n        <div>\n          {typeList.length!==0 && <Listing classes={'material-type'} name={LABELSTEXT.MATERIAL} value={typeList} />}\n          {colorList.length!==0 && <Listing classes={'material-color'} name={LABELSTEXT.COLOR} value={colorList} />}\n          {procList.length!==0 && <Listing classes={'material-processing'} name={LABELSTEXT.PROCESS} value={procList} />}\n        </div>\n      ) :(\n        <Listing classes={'material-type'} name={LABELSTEXT.MATERIAL} value={LABELSTEXT.NO_DATA}/>\n      ) \n    }\n    </div>\n  )\n};\n\nexport default Materials;\n\nfunction uniqList(arrayObj:{[key: string]: string }[], key:string): string[]{\n  const list = arrayObj.filter((obj) => obj[key]).map((item) => item[key]);\n  const uniqList = list.filter((val, index) => list.indexOf(val) === index);\n  return uniqList\n};","import React, { ReactElement } from 'react';\nimport Icon from './Icon';\n\nimport '../../sass/components/atoms/IconLabel.scss';\n\ntype IconLabelProps = {\n  classes?: string ;\n  icon: string;\n  label: string;\n}\n\nfunction IconLabel ({ classes, icon, label}: IconLabelProps): ReactElement {\n  return (\n    <div className={`icon-label ${classes}`} >\n      <Icon icon={icon} size={\"1.5em\"} />\n      <span>\n        {label}\n      </span>\n    </div>\n  );\n};\n\nexport default IconLabel;\n","import React, { ReactElement } from 'react';\nimport IconLabel from '../atoms/IconLabel';\nimport {ICONS} from '../../enums/icons-svg';\n\n\ntype IDsProps = {\n  id_label: string;\n  ident_label:string;\n};\n\nfunction ItemIDs ({ id_label,ident_label }: IDsProps): ReactElement {\n  return (\n    <div className=\"card-item-ids\">\n      <IconLabel\n        icon={ICONS.DATABASE}\n        label={id_label.toString()}\n        classes={\"card-ids id left\"}\n      />\n      <IconLabel\n        icon={ICONS.FOLDER}\n        label={ident_label}\n        classes={\"card-ids identification right\"}\n      /> \n    </div>\n  );\n};\n\nexport default ItemIDs;\n","import React, { ReactElement } from 'react';\nimport Listing from '../atoms/Listing';\nimport { LABELSTEXT } from '../../enums/label-text';\n\ntype MeasurementsProps = {\n  measurements: {\n    type: string; \n    value: number; \n    unit: string; \n  }[],\n  id: number\n}; \n\nfunction Measurements({measurements, id}: MeasurementsProps): ReactElement {\n  const hasMeasurements = measurements.length !== 0;\n\n  return(\n    <div className={\"measurements-wrapper\"}>\n      { hasMeasurements ? (\n        <div className={'listing-container measurements-item'} >\n          <span className='listing-name'>{LABELSTEXT.MEASURE.toUpperCase()}</span>\n          { measurements.map((item, index) => (\n              <span className='listing-value' key={`value-${id}-${index}`}>{\n                (Object.keys(item) as Array<keyof typeof item>).map((key, i) => {\n                  return <i key={`measurements-${id}-${index}-${key}-${i}`}>{`${item[key]} `}</i>\n                })\n              }</span>\n            ))\n          }\n        </div>\n      ) : (\n        <Listing\n          classes={'measurements-item'}\n          name={LABELSTEXT.MEASURE} \n          value={LABELSTEXT.NO_DATA}\n        />\n      )}\n    </div>\n  )\n};\n\nexport default Measurements;","import React, { ReactElement } from 'react';\nimport Listing from '../atoms/Listing';\nimport { LABELSTEXT } from '../../enums/label-text';\ntype DescProps = {\n  descriptions: string[] | null;\n}\n\nfunction Description({descriptions}: DescProps): ReactElement{\n  const hasDescription = descriptions !== null ? descriptions.length !== 0 : false;\n\n  return ( hasDescription ? \n    <Listing classes=\"card-description\" name={LABELSTEXT.DESCRIPTION} value={descriptions?.join(' ')!} />\n    : \n    <Listing classes=\"card-description\" name={LABELSTEXT.DESCRIPTION} value={LABELSTEXT.NO_DATA} />\n  )\n}\n\nexport default Description;","import React from 'react';\nimport Illustration from './card/Illustration';\nimport Collection from './card/Collection';\nimport Label from './atoms/Label';\nimport Materials from './card/Materials';\n\nimport ItemIDs from './card/ItemIDs'\nimport { Data } from '../ducks/types';\n\nimport '../sass/components/Card.scss';\nimport Measurements from './card/Measurements';\nimport Description from './card/Description';\n\ntype CardProps = {\n  item: Data;\n  i: number;\n  classes: string| string[];\n}\n\nfunction Card ({item, i, classes}: CardProps): React.ReactElement {\n  const {\n    id, collection,\n    identification, title,\n    descriptions,\n    images,\n    materials, measurements\n  } = item;\n\n  return (\n  <div className={`card ${classes}`}>\n    <Illustration item={id} img_src={images} classes={\"card-illustration\"} />\n    <Collection collection={collection} classes={\"card-collection\"}/>\n    <Label label={title ? title.toLocaleUpperCase(): 'No Title'} classes={\"card-title\"} />\n    <ItemIDs id_label={id.toString()} ident_label={identification}/>\n    <Description descriptions={descriptions} />\n    <Materials materials={materials}/>\n    <Measurements id={id} measurements={measurements} />\n  </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {Data} from '../ducks/types'\nimport '../sass/components/ResultCollection.scss';\n\ntype CollectionProps= {\n  resultData: Data[];\n}\n\nfunction ResultCollection ({resultData}: CollectionProps) {\n  return (\n    <div className=\"result-collection\">{\n      resultData.map((item: Data, index: number) => (\n        <Card classes={\"card\"} item={item} key={`item-${index}`} i={index} />\n      ))\n    }</div>\n  )\n\n}\n\nexport default ResultCollection;","import React from 'react';\nimport '../../sass/components/atoms/LoadingScreen.scss';\n\nfunction Loader (): React.ReactElement {\n  return (\n    <div className=\"loader-container\">\n    <ul>\n      {[...Array(20)].map((item, index) => {\n        return <li key={`spinner-item-${index}`}></li>\n      })}\n    </ul>\n  </div>\n  )\n};\n\nexport default Loader;","import React, { ReactElement } from 'react';\nimport '../sass/components/NoResults.scss';\nimport Icon from './atoms/Icon';\nimport { ICONS } from '../enums/icons-svg';\n\ntype noResultsProps = {\n  term: string | null;\n};\n\nfunction NoResults({term}: noResultsProps): ReactElement{\n  return (\n    <div className=\"no-results-found\">\n      <div className=\"no-results-text\">\n        <h2>\n          <em>\n            {`Sorry we could not find any results matching \"${term}\"`}\n          </em>\n        </h2>\n        <ul className=\"no-results-tips\">\n          <li>Check your spelling and try again</li>\n          <li>Try a similar but a different search term, like photo instead of image</li>\n          <li>Keep your search term simple as our search works best with shorter descriptions</li>\n        </ul>\n      </div>    \n      <div className=\"wrap\">\n        <i className=\"fa-search search-1\">\n          <Icon icon={ICONS.SEARCH} size={'2em'}/>\n        </i>\n        <i className=\"fa-search search-2\">\n          <Icon icon={ICONS.SEARCH} size={'1.5em'}/>\n        </i>\n        <i className=\"fa-search search-3\">\n          <Icon icon={ICONS.SEARCH} size={'1.5em'}/>\n        </i>\n        <i className=\"fa-search search-4\">\n          <Icon icon={ICONS.SEARCH} size={'2em'}/>\n        </i>\n        <div className=\"items\">\n          <i className=\"fa\"><Icon icon={ICONS.BOOKMARK} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.BOX} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.DATABASE} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.FOLDER} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.IMAGE} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.SQUARE_CHECK} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.BOOKMARK} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.SEARCH} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.FOLDER} size={'1.2em'}/></i>\n          <i className=\"fa\"><Icon icon={ICONS.IMAGE} size={'1.2em'}/></i>\n        </div>\n      </div>\n    </div>\n    \n  );\n};\n\nexport default NoResults;\n","import React, { ReactElement } from 'react';\nimport { useCtx } from '../../Context';\nimport IconButton from '../atoms/IconButton';\nimport Label from '../atoms/Label';\nimport { ICONS } from '../../enums/icons-svg';\nimport { changePage } from '../../ducks/actions';\n\nfunction PageSection (): ReactElement {\n  const {state, dispatch} = useCtx()\n  const { offsetSize, limit, totalItems, perPage } = state\n\n  const pageLabel = `${1 + offsetSize} - ${Math.min(offsetSize + perPage, totalItems)} of ${totalItems}`\n\n  return (\n    <div className='control-section-page'>\n      <IconButton\n        icon={ICONS.BACK}\n        onClickFn={() => dispatch(changePage(-1))}\n        isDisabled={offsetSize === 0}\n        icon_size={'2em'}\n        classes='pagination-icon-button'\n      />\n      <Label classes='pages-label' label={pageLabel} />\n      <IconButton\n        icon={ICONS.FORWARD}\n        onClickFn={() => dispatch(changePage(1))}\n        isDisabled={Math.min(offsetSize + limit, totalItems) === totalItems}\n        icon_size={'2em'}\n        classes='pagination-icon-button'\n      />\n    </div>\n  )\n}\n\nexport default PageSection;\n","import React, { ReactElement } from 'react';\nimport PageSection from './controlsBar/PageSection';\n\nimport '../sass/components/ControlsBar.scss';\n\nfunction ControlsBar (): ReactElement {\n  return (\n    <div className='controls-bar'>\n      <PageSection />\n    </div>\n  )\n}\n\nexport default ControlsBar;\n","import {Dispatch} from 'react';\nimport {AppActionTypes} from '../ducks/types';\nimport { startSearchReq, failSearchReq, noSearchRes, gotSearchRes } from \"../ducks/actions\";\n\n\nexport async function fetchSearchApi (\n  query: string,\n  size: number,\n  offsetSize: number,\n  dispatch: Dispatch<AppActionTypes>,\n  ): Promise<any> {\n  const URL = `https://frontend.natmus.dk/api/Search?query=${query}&size=${size}&offset=${offsetSize}`;\n  dispatch(startSearchReq(true));\n\n  try{\n    const request = await fetch(URL);\n\n    if(!request.ok){\n      const err = new Error(\n        `SEARCH API req ${request.status}: ${request.statusText}`\n      );\n      return dispatch(failSearchReq(false, err));\n    }\n    \n    const content = await request.json();\n    let total = Number(request.headers.get('Natmus-Total-Count'));\n    let pages = Number(request.headers.get('Natmus-Page-Count'));\n\n    if(content.length === 0){\n      return dispatch(noSearchRes(false, query));\n    }\n    if(content.length > 0) {\n      return dispatch(gotSearchRes(content, false, total, pages, query));\n    }\n  } catch (error) {\n    return dispatch(failSearchReq(false, error));\n  }\n\n};","import React from 'react';\nimport {fetchSearchApi} from './searchItems';\nimport { AppActionTypes } from '../ducks/types';\n\n\nfunction useSearch (offset: number, query: string | null, limit: number, dispatch: React.Dispatch<AppActionTypes>) {\n  React.useEffect(()=> {\n    if(query != null && query !== 'null'){\n      //TODO: do not know why, but somewhere null is casted into string ;(\n      fetchSearchApi(query, limit, offset, dispatch);\n    }\n  },[offset, limit, query]);\n};\n\nexport default useSearch;\n\n\n","import React, { ReactElement} from 'react';\nimport SearchForm from './components/Search';\nimport ResultCollection from './components/ResultCollection';\nimport Loader from './components/atoms/LoadingScreen';\nimport { useCtx } from './Context';\n\nimport './sass/App.scss';\nimport NoResults from './components/NoResults';\nimport ControlsBar from './components/ControlsBar';\nimport { useReflectInUrl } from './utils/useReflectInUrl';\nimport useSearch from './utils/useSearch';\n\nfunction App(): ReactElement {\n  const {state, dispatch} = useCtx();\n  const { offsetSize, limit, queryTerm } = state;\n\n  useSearch(offsetSize, queryTerm, limit, dispatch);\n  useReflectInUrl(offsetSize, queryTerm);\n\n  return (\n    <div className=\"App container\">\n      <SearchForm/>\n      {state.totalItems !== state.perPage && <ControlsBar />}\n      {state.showSpinner && <Loader />}\n      {state.data && <ResultCollection resultData={state.data}/>}\n      {state.showNoRes && <NoResults term={state.queryTerm!} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport {URL_PROPS} from '../enums/url-props';\n\n\nexport function useReflectInUrl (offset: number, query: string | null) {\n  React.useEffect(() => {\n    window.history.pushState(\n      null,\n      \"\",\n      `${window.location.pathname}?${URL_PROPS.QUERY}=${query}&${URL_PROPS.OFFSET}=${offset}`\n    );\n  },[offset, query]);\n};","import React, { ReactElement } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {StateProvider} from './Context';\n\nfunction Main (): ReactElement {\n  return (\n    <StateProvider>\n      <App />\n    </StateProvider>\n  )\n}\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}